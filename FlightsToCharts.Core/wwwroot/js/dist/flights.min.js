var sharedHubConnection=(new signalR.HubConnectionBuilder).withUrl("/sharedHub").withAutomaticReconnect().build(),airlinesHubConnection=(new signalR.HubConnectionBuilder).withUrl("/airlinesHub").withAutomaticReconnect().build(),airportsHubConnection=(new signalR.HubConnectionBuilder).withUrl("/airportsHub").withAutomaticReconnect().build(),flightsHubConnection=(new signalR.HubConnectionBuilder).withUrl("/flightsHub").withAutomaticReconnect().build(),planesHubConnection=(new signalR.HubConnectionBuilder).withUrl("/planesHub").withAutomaticReconnect().build(),weatherHubConnection=(new signalR.HubConnectionBuilder).withUrl("/weatherHub").withAutomaticReconnect().build();window.onload=()=>{var n=$("#loadPanel").dxLoadPanel({shadingColor:"rgba(0,0,0,0.4)",position:{of:"#gridContainer"},visible:!1,showIndicator:!0,showPane:!0,shading:!0,closeOnOutsideClick:!1,onShown:()=>{setTimeout(()=>{n.hide()},3e4)}}).dxLoadPanel("instance");n.show();flightsHubConnection.start().then(()=>{flightsHubConnection.invoke("GetAllFlights").catch(n=>console.error(n.toString()))}).catch(n=>console.error(n.toString()));flightsHubConnection.on("SendAllFlights",t=>{var i=JSON.parse(t),r;if(i.StatusCode!==0){swal({title:"Error",text:`Data could not be retrieved.
 Please refresh the page.`,icon:"error",button:"OK"});throw i.Message;}r=JSON.parse(i.Data);$("#gridData").dxDataGrid({showColumnLines:!1,showRowLines:!0,showColumnLines:!0,rowAlternationEnabled:!0,width:"80%",paging:{pageSize:15},pager:{showPageSizeSelector:!0,allowedPageSizes:[5,10,15,20],showInfo:!0},dataSource:r,columns:[{dataField:"DateOfFlight",caption:"Date of flights",dataType:"date",format:"dd.MM.yyyy",alignment:"center"},{dataField:"DepSchedDelay",caption:"Departure (delay)",alignment:"right"},{dataField:"ArrSchedDelay",caption:"Arrival (delay)",alignment:"right"},{dataField:"AirTime",caption:"AirTime",alignment:"right"},{dataField:"Distance",caption:"Distance"},{caption:"Origin - Dest",alignment:"center",calculateCellValue:n=>n.Origin+" - "+n.Dest},{dataField:"Carrier",caption:"Airline",alignment:"right"},{dataField:"FlightNo",caption:"FlightNumber"},{dataField:"Tailnum",caption:"Plane Number"}],showBorders:!0});n.hide()})};